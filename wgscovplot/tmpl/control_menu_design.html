<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="offcanvas" data-bs-target="#controlmenu" href="#">â˜° Chart
                        Options</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#" onclick="showChart(event,'chart')">Coverage
                        Plot</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" onclick="showChart(event,'summary_table')" href="#">Summary Information</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" onclick="showChart(event,'about')" href="#">About</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div id="chart" class="chart-container" style="width:100%; height: 900px;"></div>

<div class="offcanvas offcanvas-start" tabindex="-1" id="controlmenu">

    <div class="offcanvas-header">
        <h5>Chart Options</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close" aria-labelledby="controlmenu"></button>
    </div>

    <div class="offcanvas-body">
        <div class="accordion">
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#general" aria-expanded="true" aria-controls="general">
                        General   
                    </button>
                </h2>
            <div id="general" class="accordion-collapse collapse show">
                <div class="accordion-body">
                    <label for="samples">Samples:</label>
                    <select id="selectedsamples" class="selected-samples" multiple="multiple" style="width: 75%" >
                        {% for sample in samples_name %}
                            <option value={{sample}}>{{sample}}</option>
                        {% endfor %}
                    </select>
                </div>
              </div>
            </div>

            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#chartproperties" aria-expanded="false" aria-controls="chartproperties">
                        Chart Properties
                    </button>
                </h2>
            <div id="chartproperties" class="accordion-collapse collapse">
                <div class="accordion-body">
                    <div>Renderer  
                        <select id="render-env" onchange="selectRenderEnv()" style="width: 40%">
                            <option value="svg" >svg</option>
                            <option value="canvas" selected>canvas</option>
                        </select>
                    </div>
                    <p></p>
                    <div class="form-check form-switch">
                        <label class="form-check-label" for="toggle-darkmode">Dark Mode</label>
                        <input class="form-check-input" type="checkbox" id="toggle-darkmode" unchecked>
                    </div>
                    <p></p>
                    <div>
                        <label class="form-label">Height</label> 
                        <input type="range" id="chart-height-input" class="form-range" value="15" min="1" max="70" step="1" onchange="updateChartHeight(this.value);">
                        <output style="display: block; text-align:center;" type="text" id="chart-height-output">19<span>%</span></output>
                    </div>
                    <div>
                        <label class="form-label">Left</label> 
                        <input type="range" id="chart-left-input" class="form-range" value="5" min="1" max="50" step="1" onchange="updateChartLeft(this.value);">
                        <output style="display: block; text-align:center;" type="text" id="chart-left-output">5<span>%</span></output>
                    </div>
                    <div>
                        <label class="form-label">Right</label> 
                        <input type="range" id="chart-right-input" class="form-range" value="5" min="1" max="50" step="1" onchange="updateChartRight(this.value);">
                        <output style="display: block; text-align:center;" type="text" id="chart-right-output">5<span>%</span></output>
                    </div>
                    <div>
                        <label class="form-label">Top</label> 
                        <input type="range" id="chart-top-input" class="form-range" value="4" min="0" max="10" step="1" onchange="updateChartTop(this.value);">
                        <output style="display: block; text-align:center;" type="text" id="chart-top-output">4<span>%</span></output>
                    </div>
                </div>
              </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#genefeatures" aria-expanded="false" aria-controls="genefeatures">
                        Gene Features
                    </button>
                </h2>
                <div id="genefeatures" class="accordion-collapse collapse">
                    <div class="accordion-body">
                        <div class="form-check form-switch">
                            <label class="form-check-label" for="toggle-genelabel">Show Gene Label</label>
                            <input class="form-check-input" type="checkbox" id="toggle-genelabel" checked>
                        </div>
                        <div>
                            <label class="form-label">Height</label> 
                            <input type="range" id="genefeature-height-input" class="form-range" value="15" min="1" max="50" step="1" onchange="updateGeneFeatureHeight(this.value);">
                            <output style="display: block; text-align:center;" type="text" id="genefeature-height-output">15<span>%</span></output>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#axis" aria-expanded="false" aria-controls="axis">
                        Axis
                    </button>
                </h2>
                <div id="axis" class="accordion-collapse collapse">
                    <div class="accordion-body">
                        <p>Scale  
                            <select id="scale" onchange="setScale()" style="width: 25%">
                                <option value="value" >Linear</option>
                                <option value="log" selected>Log</option>
                            </select>
                        </p>
                        <p> 
                            <form id="ymaxform">
                                <label for="ymaxform">yMax </label>
                                <input type="number" id="ymax" value=100000 style="width: 30%">
                                <input type="button" onclick="setYMax()" value="Set yMax">
                            </form>
                        </p>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#tooltip" aria-expanded="false" aria-controls="tooltip">
                        Tooltip
                    </button>
                </h2>
                <div id="tooltip" class="accordion-collapse collapse">
                    <div class="accordion-body">
                        <div class="form-check form-switch">
                            <label class="form-check-label" for="toggle-tooltip">Show Tooltip</label>
                            <input class="form-check-input" type="checkbox" id="toggle-tooltip" checked>
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#datazoom" aria-expanded="false" aria-controls="datazoom">
                        Data Zoom
                    </button>
                </h2>
                <div id="datazoom" class="accordion-collapse collapse">
                    <div class="accordion-body">
                        <div class="form-check form-switch">
                            <label class="form-check-label" for="toggle-slider">Slider</label>
                            <input class="form-check-input" type="checkbox" id="toggle-slider" checked>
                        </div>
                        <form id="dataZoom">
                            <label for="start-pos">Start Pos</label><br>
                            <input type="number" id="start-pos" value=1><br>
                            <label for="end-pos">End Pos</label><br>
                            <input type="number" id="end-pos" value={{ref_seq_length}}><br><br>
                            <input type="button" onclick="setDataZoom()" value="Set DataZoom">
                            <input type="button" onclick="resetDataZoom()" value="Reset DataZoom">
                        </form>
                    </div>
                </div>
            </div>
            {% if amplicon == True %}
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#amplicon" aria-expanded="false" aria-controls="amplicon">
                        Amplicon
                    </button>
                </h2>
                <div id="amplicon" class="accordion-collapse collapse">
                    <div class="accordion-body">
                        <div class="form-check form-switch">
                            <label class="form-check-label" for="toggle-amplicon-depthlabel">Amplicon Depth</label>
                            <input class="form-check-input" type="checkbox" id="toggle-amplicon-depthlabel" unchecked>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</div>


<div id="about" class="chart-container">
    {{ about_html }}
</div>
{{ coverage_stat }}
